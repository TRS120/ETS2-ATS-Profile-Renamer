<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ETS2 Profile Renamer Tool</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;700&family=Plus+Jakarta+Sans:wght@400;600;800&display=swap');
        :root { --accent: #fbbf24; --bg: #0f172a; --card: #1e293b; }
        body { 
            background-color: var(--bg); 
            color: #f1f5f9; 
            font-family: 'Plus Jakarta Sans', sans-serif;
            background-image: radial-gradient(circle at 50% 0%, #1e293b 0%, #0f172a 100%);
        }
        .glass-card { 
            background: rgba(30, 41, 59, 0.7); 
            backdrop-filter: blur(16px); 
            border: 1px solid rgba(255,255,255,0.1); 
            border-radius: 20px; 
        }
        .input-box {
            background: rgba(15, 23, 42, 0.9);
            border: 1px solid #334155;
            color: white;
            transition: all 0.2s ease;
            font-family: 'JetBrains Mono', monospace;
        }
        .input-box:focus-within {
            border-color: var(--accent);
            box-shadow: 0 0 0 3px rgba(251, 191, 36, 0.2);
        }
        .label-text {
            font-size: 0.7rem;
            font-weight: 800;
            color: #94a3b8;
            text-transform: uppercase;
            letter-spacing: 0.1em;
            margin-bottom: 0.6rem;
            display: block;
        }
        .copy-btn {
            transition: all 0.2s;
        }
        .copy-btn:active {
            transform: scale(0.95);
        }
        .instruction-step {
            background: rgba(255,255,255,0.03);
            border-radius: 12px;
            padding: 12px;
            border-left: 4px solid var(--accent);
        }
    </style>
</head>
<body class="min-h-screen pb-12">
    <header class="py-12 text-center">
        <div class="inline-block p-3 rounded-2xl bg-amber-500/10 mb-4">
            <i class="fas fa-truck-moving text-3xl text-amber-400"></i>
        </div>
        <h1 class="text-4xl font-extrabold tracking-tight text-white mb-2">
            PROFILE <span class="text-amber-400">RENAMER</span>
        </h1>
        <p class="text-slate-400 text-sm max-w-md mx-auto">Convert profile names to Hex for Euro Truck Simulator 2 & ATS folder renaming.</p>
    </header>
    <main class="max-w-4xl mx-auto px-4 grid gap-6">
        <section class="glass-card p-8">
            <div class="grid md:grid-cols-[1fr_auto_1fr] items-center gap-8">
                <div>
                    <label class="label-text">Desired Profile Name</label>
                    <div class="relative">
                        <input type="text" id="textInput" placeholder="e.g. MyCoolProfile" 
                            class="input-box w-full p-5 rounded-xl text-lg outline-none" oninput="syncTextToHex()">
                        <i class="fas fa-signature absolute right-5 top-1/2 -translate-y-1/2 text-slate-600"></i>
                    </div>
                </div>

                <div class="flex flex-col items-center gap-2">
                    <i class="fas fa-exchange-alt text-amber-400/50 text-xl hidden md:block"></i>
                </div>
                <div>
                    <label class="label-text">Folder Name (Hex String)</label>
                    <div class="relative">
                        <input type="text" id="hexTextInput" placeholder="HEX CODE" 
                            class="input-box w-full p-5 pr-14 rounded-xl text-lg uppercase outline-none" oninput="syncHexToText()">
                        <button onclick="copyHex()" class="copy-btn absolute right-3 top-1/2 -translate-y-1/2 bg-amber-500 hover:bg-amber-400 text-slate-900 w-10 h-10 rounded-lg flex items-center justify-center">
                            <i class="fas fa-copy" id="copyIcon"></i>
                        </button>
                    </div>
                </div>
            </div>
            
            <div id="copyFeedback" class="text-center mt-4 text-amber-400 text-xs font-bold opacity-0 transition-opacity">
                COPIED TO CLIPBOARD!
            </div>
        </section>
        <section class="glass-card p-8">
            <h3 class="font-bold text-lg mb-6 flex items-center gap-2 text-amber-400">
                <i class="fas fa-info-circle"></i> How to Rename a Profile
            </h3>
            <div class="grid gap-4 text-sm text-slate-300">
                <div class="instruction-step">
                    <span class="font-bold text-amber-400 mr-2">1.</span>
                    Type your new name above and <strong>Copy</strong> the generated Hex string.
                </div>
                <div class="instruction-step">
                    <span class="font-bold text-amber-400 mr-2">2.</span>
                    Go to <code>Documents/Euro Truck Simulator 2/profiles</code>.
                </div>
                <div class="instruction-step">
                    <span class="font-bold text-amber-400 mr-2">3.</span>
                    Rename your existing profile folder to the <strong>Copied Hex string</strong>.
                </div>
                <div class="instruction-step">
                    <span class="font-bold text-amber-400 mr-2">4.</span>
                    Open your <code>profile.sii</code> (decrypted) and find the <code>profile_name:</code> line. Update it to match your <strong>Plain Text</strong> name.
                </div>
            </div>
        </section>
    </main>
    <script>
        function syncTextToHex() {
            const txt = document.getElementById('textInput').value;
            const target = document.getElementById('hexTextInput');
            if (!txt) { target.value = ""; return; }
            const hex = Array.from(new TextEncoder().encode(txt))
                .map(b => b.toString(16).padStart(2, '0').toUpperCase())
                .join('');
            target.value = hex;
        }

        function syncHexToText() {
            let val = document.getElementById('hexTextInput').value;
            const target = document.getElementById('textInput');
            
            if (val.trim() === "") {
                target.value = "";
                return;
            }
            let hex = val.replace(/[^0-9A-Fa-f]/g, '');
            if (hex.length < 2 || hex.length % 2 !== 0) return;
            
            try {
                const bytes = new Uint8Array(hex.match(/.{1,2}/g).map(byte => parseInt(byte, 16)));
                target.value = new TextDecoder().decode(bytes);
            } catch(e) {
            }
        }
        function copyHex() {
            const hexInput = document.getElementById('hexTextInput');
            if (!hexInput.value) return;
            
            hexInput.select();
            document.execCommand('copy');
            
            const feedback = document.getElementById('copyFeedback');
            const icon = document.getElementById('copyIcon');
            
            icon.className = 'fas fa-check';
            feedback.style.opacity = '1';
            
            setTimeout(() => {
                feedback.style.opacity = '0';
                icon.className = 'fas fa-copy';
            }, 2000);
        }
    </script>
</body>
</html>
